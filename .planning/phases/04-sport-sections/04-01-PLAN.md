---
phase: 04-sport-sections
type: execute
---

<objective>
Build per-sport category sections for the homepage with watermark headers and asymmetric article grids.

Purpose: Create reusable SportCategorySection component matching the reference design - watermark background text, category header with underline, asymmetric grid layout (2 large images + text article top row, 4 smaller cards bottom row), author avatars with dates.

Output: SportCategorySection component integrated on homepage for 6 sport categories (Football, Basketball, Baseball, Softball, Soccer, Recruiting)
</objective>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@frontend/lib/wordpress.ts
@frontend/components/HeroGrid.tsx
@frontend/components/BreakingNewsSection.tsx
@frontend/components/ArticleListGrid.tsx
@frontend/app/page.tsx
</context>

<tasks>
<task type="auto">
  <name>Task 1: Create SportSectionHeader component</name>
  <files>frontend/components/SportSectionHeader.tsx</files>
  <action>
    Create header component with:
    - Large watermark text in background (category name in uppercase, light gray, offset behind title)
    - Category title centered with orange underline accent
    - CSS: watermark using absolute positioning, large font (6xl-8xl), light gray color, behind content
    - Title: font-heading, bold, with orange bottom border
    - Props: categoryName (string), watermarkText (optional, defaults to categoryName uppercase)
  </action>
  <verify>Component renders with watermark background and styled title</verify>
  <done>SportSectionHeader displays watermark text behind centered category title with orange underline</done>
</task>

<task type="auto">
  <name>Task 2: Create AuthorByline component</name>
  <files>frontend/components/AuthorByline.tsx</files>
  <action>
    Create reusable author display component with:
    - Circular author avatar (default placeholder if no avatar)
    - Author name text
    - Date formatted nicely (e.g., "September 29, 2021")
    - Props: authorName (string), authorAvatar (optional string), date (string or Date)
    - Use WordPress author data from post._embedded if available
    - Small size variant for cards, standard size for featured articles
    - Flexbox layout: avatar (24px circle) + name + dash + date
  </action>
  <verify>Component renders avatar, name, and formatted date</verify>
  <done>AuthorByline shows circular avatar with author name and date in clean horizontal layout</done>
</task>

<task type="auto">
  <name>Task 3: Create SportCategorySection component</name>
  <files>frontend/components/SportCategorySection.tsx</files>
  <action>
    Create section component with asymmetric grid layout matching reference:

    TOP ROW (3 columns):
    - Left: Large image card (aspect-[4/5]), image fills container, title overlay at bottom
    - Center: Text-only article card with EXCLUSIVE badge (if tagged), large title, author byline
    - Right: Large image card (aspect-[4/5]), same as left

    BOTTOM ROW (4 columns):
    - 4 smaller image cards with:
      - Square/portrait image (aspect-square or aspect-[3/4])
      - Title below image (2-3 lines max, line-clamp-3)
      - Author byline below title

    Props:
    - posts: WPPost[] (needs 7 posts: 2 large + 1 text + 4 small)
    - categories: WPCategory[]
    - tags: WPTag[]
    - categoryName: string
    - watermarkText?: string
    - className?: string

    Use existing utilities: decodeHtmlEntities, rewriteImageUrl, postHasTag, getDisplayCategoryName
    Use AuthorByline component for all author displays
    Use SportSectionHeader at top
  </action>
  <verify>Component renders with header, 3-column top row, 4-column bottom row</verify>
  <done>SportCategorySection displays asymmetric grid matching reference design with all 7 posts</done>
</task>

<task type="auto">
  <name>Task 4: Add WordPress author data extraction</name>
  <files>frontend/lib/wordpress.ts</files>
  <action>
    Add helper functions for author data:
    - getPostAuthorName(post: WPPost): string - extracts author name from _embedded or returns "Staff"
    - getPostAuthorAvatar(post: WPPost): string | null - extracts author avatar URL from _embedded
    - formatPostDate(date: string): string - formats ISO date to "Month Day, Year" format

    Ensure getPosts includes _embed parameter to fetch author data with posts.
    Update WPPost type if needed to include _embedded author data.
  </action>
  <verify>Helper functions return correct author name and avatar from post data</verify>
  <done>Author extraction utilities work with WordPress _embedded data</done>
</task>

<task type="auto">
  <name>Task 5: Integrate sport sections on homepage</name>
  <files>frontend/app/page.tsx</files>
  <action>
    Add SportCategorySection components to homepage:

    1. Fetch posts by category for each sport:
       - Football (slug: "football")
       - Basketball (slug: "basketball")
       - Baseball (slug: "baseball")
       - Softball (slug: "softball")
       - Soccer (slug: "soccer")
       - Recruiting (slug: "recruiting")

    2. Use Promise.all to fetch all category posts in parallel (7 posts each)

    3. Add SportCategorySection for each category after ArticleListGrid:
       - Only render section if category has posts
       - Pass categoryName and optional watermarkText (e.g., "CLEMSON" for Football)

    4. Page order: MiniHero → HeroGrid → SocialCTABar → BreakingNewsSection → ArticleListGrid → Sport Sections
  </action>
  <verify>npm run build succeeds, homepage shows sport category sections</verify>
  <done>Homepage displays 6 sport category sections with posts from WordPress</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Sport category sections with watermark headers and asymmetric grids</what-built>
  <how-to-verify>
    1. Run: npm run dev (in frontend directory)
    2. Visit: http://localhost:3000
    3. Scroll past Breaking News and Article List sections
    4. Verify each sport section has:
       - Large watermark text in background
       - Category title with orange underline
       - Top row: 2 large image cards + 1 text article
       - Bottom row: 4 smaller image cards
       - Author avatars with names and dates
    5. Check responsive behavior at mobile widths
    6. Verify EXCLUSIVE badge shows on posts with "exclusive" tag
  </how-to-verify>
  <resume-signal>Type "approved" or describe issues to fix</resume-signal>
</task>

<task type="auto">
  <name>Task 6: Commit all Phase 4 changes</name>
  <files>All modified files</files>
  <action>
    Git commit with message: "Add sport category sections with watermark headers and asymmetric grids"

    Files to include:
    - frontend/components/SportSectionHeader.tsx
    - frontend/components/AuthorByline.tsx
    - frontend/components/SportCategorySection.tsx
    - frontend/lib/wordpress.ts (author utilities)
    - frontend/app/page.tsx (integration)
  </action>
  <verify>git status shows clean working directory</verify>
  <done>All Phase 4 changes committed to git</done>
</task>
</tasks>

<verification>
Before declaring phase complete:
- [ ] `npm run build` succeeds without errors
- [ ] No TypeScript errors
- [ ] All 6 sport category sections render on homepage
- [ ] Watermark text displays behind section headers
- [ ] Author avatars and dates show on all cards
- [ ] EXCLUSIVE badges appear on tagged posts
- [ ] Responsive layout works on mobile
</verification>

<success_criteria>
- SportSectionHeader component with watermark background
- AuthorByline component with avatar, name, date
- SportCategorySection component with asymmetric grid layout
- Author data extraction from WordPress _embedded
- Homepage displays sections for Football, Basketball, Baseball, Softball, Soccer, Recruiting
- Build passes without errors
- Design matches reference image layout
</success_criteria>

<output>
After completion, create `.planning/phases/04-sport-sections/04-01-SUMMARY.md`:

# Phase 4: Sport Sections Summary

**[One-liner describing what was built]**

## Accomplishments
- List of completed features

## Files Created/Modified
- New and changed files

## Decisions Made
- Any implementation decisions

## Issues Encountered
- Problems and solutions

## Next Phase Readiness
- Ready for Phase 5: Blog Post Template
</output>
