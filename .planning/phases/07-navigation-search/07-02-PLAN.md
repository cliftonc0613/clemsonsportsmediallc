---
phase: 07-navigation-search
plan: 02
type: execute
---

<objective>
Create a dedicated search results page that displays results in a grid layout with filtering options.

Purpose: Provide a full-page search experience for users who want to browse search results more thoroughly than the command dialog allows.
Output: Search results page at /search with query parameter support.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/07-navigation-search/07-01-SUMMARY.md

**Existing Search Infrastructure:**
@frontend/app/api/search/route.ts - Search API endpoint
@frontend/components/SearchCommand.tsx - Command dialog implementation
@frontend/lib/wordpress.ts - search() function

**Reference Components:**
@frontend/app/category/[slug]/page.tsx - Archive page pattern to follow
@frontend/components/BlogCard.tsx - Card component for results
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Search Results Page</name>
  <files>frontend/app/search/page.tsx</files>
  <action>
Create a search results page at /search:
1. Accept ?q= query parameter for search term
2. Server-side fetch using search() function from wordpress.ts
3. Display results using BlogCard component in 3-column grid
4. Header section with search term display and result count
5. Show "No results found" message when empty
6. Add search input at top for refining queries (client-side form that updates URL)
7. Style header with watermark effect like category archives
8. Include SEO metadata (noindex for search pages)
  </action>
  <verify>Visit /search?q=test, results display in grid</verify>
  <done>Search results page displays matching posts in branded grid layout</done>
</task>

<task type="auto">
  <name>Task 2: Update SearchCommand to Link to Results Page</name>
  <files>frontend/components/SearchCommand.tsx</files>
  <action>
Enhance the search command dialog:
1. Add "View all results" link at bottom when results exist
2. Link goes to /search?q={query}
3. Add keyboard shortcut hint: "Press Enter to view all results"
4. When Enter is pressed with no selection, navigate to search results page
5. Style the link with clemson-orange color
  </action>
  <verify>Type query in search command, see "View all results" link, Enter navigates to /search</verify>
  <done>Search command provides path to full results page</done>
</task>

<task type="auto">
  <name>Task 3: Add Search Input to Header</name>
  <files>frontend/components/Header.tsx</files>
  <action>
Add a visible search input to the header (desktop only):
1. Replace search icon button with an expandable search input
2. On focus, input expands; on blur (if empty), collapses back
3. Form submission navigates to /search?q={query}
4. Keep the command dialog (Cmd+K) as alternative
5. Style input: white background, orange focus border, rounded
6. Mobile keeps the icon button that opens search command
  </action>
  <verify>Click search area, input expands, submit navigates to /search</verify>
  <done>Desktop header has expandable search input, mobile has search icon</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds without errors
- [ ] /search?q=test shows results in grid
- [ ] Empty search shows appropriate message
- [ ] SearchCommand links to full results page
- [ ] Header search input works on desktop
- [ ] Mobile search icon still works
</verification>

<success_criteria>
- All tasks completed
- Search results page matches site design
- Multiple paths to search (header input, command dialog, direct URL)
- Phase 7 complete
</success_criteria>

<output>
After completion, create `.planning/phases/07-navigation-search/07-02-SUMMARY.md`
</output>
